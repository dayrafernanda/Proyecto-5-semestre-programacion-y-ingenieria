"use strict";(self.webpackChunksistema_de_gesti_n_de_proyectos=self.webpackChunksistema_de_gesti_n_de_proyectos||[]).push([[423],{4423:(C,j,i)=>{i.r(j),i.d(j,{ProjectFormComponent:()=>D});var d=i(177),l=i(4341),e=i(4438),g=i(2909);function F(t,s){1&t&&(e.j41(0,"span"),e.EFF(1,"El t\xedtulo es requerido"),e.k0s())}function v(t,s){1&t&&(e.j41(0,"span"),e.EFF(1," M\xednimo 10 caracteres "),e.k0s())}function _(t,s){if(1&t&&(e.j41(0,"div",41),e.DNE(1,F,2,0,"span",42)(2,v,2,0,"span",42),e.k0s()),2&t){let o,n;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=r.projectForm.get("title"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=r.projectForm.get("title"))||null==n.errors?null:n.errors.minlength)}}function h(t,s){if(1&t&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&t){const o=s.$implicit;e.Y8G("value",o),e.R7$(),e.JRh(o)}}function b(t,s){1&t&&(e.j41(0,"div",41),e.EFF(1," El \xe1rea de conocimiento es requerida "),e.k0s())}function E(t,s){1&t&&(e.j41(0,"span"),e.EFF(1,"El resumen es requerido"),e.k0s())}function k(t,s){1&t&&(e.j41(0,"span"),e.EFF(1," M\xednimo 100 caracteres "),e.k0s())}function y(t,s){if(1&t&&(e.j41(0,"div",41),e.DNE(1,E,2,0,"span",42)(2,k,2,0,"span",42),e.k0s()),2&t){let o,n;const r=e.XpG();e.R7$(),e.Y8G("ngIf",null==(o=r.projectForm.get("summary"))||null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==(n=r.projectForm.get("summary"))||null==n.errors?null:n.errors.minlength)}}function P(t,s){1&t&&(e.j41(0,"div",41),e.EFF(1," Los objetivos son requeridos "),e.k0s())}let D=(()=>{class t{constructor(o,n){this.fb=o,this.router=n,this.knowledgeAreas=["Desarrollo de Software","Redes y Telecomunicaciones","Automatizaci\xf3n Industrial","Gesti\xf3n Empresarial","Dise\xf1o Gr\xe1fico","Mec\xe1nica Industrial"],this.projectState="borrador",this.projectForm=this.fb.group({title:["",[l.k0.required,l.k0.minLength(10)]],knowledgeArea:["",l.k0.required],summary:["",[l.k0.required,l.k0.minLength(100)]],objectives:["",l.k0.required],methodology:[""],expectedResults:[""]})}onSubmit(){this.projectForm.valid?this.saveProject("pendiente"===this.projectState?"enviado":"guardado"):(this.markAllFieldsAsTouched(),alert("Por favor complete todos los campos requeridos correctamente."))}saveDraft(){this.projectState="borrador",this.saveProject("guardado")}saveProject(o){const n={...this.projectForm.value,estado:this.projectState,fechaCreacion:new Date,fechaActualizacion:new Date,id:this.generateProjectId()};console.log("Proyecto guardado:",n),this.simulateSaveToDatabase(n),"enviado"===o?(alert("\xa1Proyecto enviado para revisi\xf3n exitosamente! Ser\xe1 visible en tu portafolio."),this.router.navigate(["/mi-portafolio"])):(alert("Borrador guardado exitosamente. Puedes editarlo m\xe1s tarde desde tu portafolio."),this.router.navigate(["/dashboard"]))}simulateSaveToDatabase(o){try{const n=JSON.parse(localStorage.getItem("studentProjects")||"[]");n.push(o),localStorage.setItem("studentProjects",JSON.stringify(n)),console.log("Proyecto guardado en localStorage:",o)}catch(n){console.error("Error guardando proyecto:",n)}}generateProjectId(){return"proj_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}markAllFieldsAsTouched(){Object.keys(this.projectForm.controls).forEach(o=>{const n=this.projectForm.get(o);n&&n.markAsTouched()})}get isFormValid(){return this.projectForm.valid}get titleErrors(){const o=this.projectForm.get("title");if(o?.errors&&o.touched){if(o.errors.required)return"El t\xedtulo es requerido";if(o.errors.minlength)return`M\xednimo 10 caracteres (actual: ${o.value?.length||0})`}return""}get knowledgeAreaErrors(){const o=this.projectForm.get("knowledgeArea");return o?.errors&&o.touched&&o.errors.required?"El \xe1rea de conocimiento es requerida":""}get summaryErrors(){const o=this.projectForm.get("summary");if(o?.errors&&o.touched){if(o.errors.required)return"El resumen es requerido";if(o.errors.minlength)return`M\xednimo 100 caracteres (actual: ${o.value?.length||0})`}return""}get objectivesErrors(){const o=this.projectForm.get("objectives");return o?.errors&&o.touched&&o.errors.required?"Los objetivos son requeridos":""}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(l.ok),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-project-form"]],standalone:!0,features:[e.aNF],decls:75,vars:13,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm","border-0"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"bi","bi-plus-circle","me-2"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"col-md-12","mb-3"],[1,"form-label"],["type","text","formControlName","title","placeholder","Ingrese el t\xedtulo completo del proyecto",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],[1,"col-md-6","mb-3"],["formControlName","knowledgeArea",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-12","mb-3"],["formControlName","summary","rows","5","placeholder","Describa brevemente el proyecto, objetivos, metodolog\xeda y resultados esperados...",1,"form-control"],[1,"d-flex","justify-content-between"],[1,"text-muted"],["formControlName","objectives","rows","4","placeholder","Especifique los objetivos generales y espec\xedficos del proyecto...",1,"form-control"],["formControlName","methodology","rows","3","placeholder","Describa la metodolog\xeda que utilizar\xe1...",1,"form-control"],[1,"col-12","mb-4"],["formControlName","expectedResults","rows","3","placeholder","Describa los resultados esperados...",1,"form-control"],[1,"card","border-warning"],[1,"card-header","bg-warning","text-dark"],[1,"bi","bi-info-circle","me-2"],[1,"form-check","mb-3"],["type","radio","name","projectAction","id","draft",1,"form-check-input",3,"change","checked"],["for","draft",1,"form-check-label"],[1,"form-text","text-muted","d-block","ms-4"],[1,"form-check"],["type","radio","name","projectAction","id","submit",1,"form-check-input",3,"change","checked"],["for","submit",1,"form-check-label","text-success"],[1,"form-text","text-success","d-block","ms-4"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-save","me-1"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"bi","bi-send","me-1"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[3,"value"]],template:function(n,r){if(1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.nrm(6,"i",6),e.EFF(7," Nuevo Proyecto de Grado "),e.k0s()(),e.j41(8,"div",7)(9,"form",8),e.bIt("ngSubmit",function(){return r.onSubmit()}),e.j41(10,"div",1)(11,"div",9)(12,"label",10),e.EFF(13,"T\xedtulo del Proyecto *"),e.k0s(),e.nrm(14,"input",11),e.DNE(15,_,3,2,"div",12),e.k0s(),e.j41(16,"div",13)(17,"label",10),e.EFF(18,"\xc1rea de Conocimiento *"),e.k0s(),e.j41(19,"select",14)(20,"option",15),e.EFF(21,"Seleccione un \xe1rea"),e.k0s(),e.DNE(22,h,2,2,"option",16),e.k0s(),e.DNE(23,b,2,0,"div",12),e.k0s(),e.j41(24,"div",17)(25,"label",10),e.EFF(26,"Resumen Ejecutivo *"),e.k0s(),e.nrm(27,"textarea",18),e.j41(28,"div",19)(29,"small",20),e.EFF(30,"M\xednimo 100 caracteres"),e.k0s(),e.j41(31,"small"),e.EFF(32),e.k0s()(),e.DNE(33,y,3,2,"div",12),e.k0s(),e.j41(34,"div",17)(35,"label",10),e.EFF(36,"Objetivos *"),e.k0s(),e.nrm(37,"textarea",21),e.DNE(38,P,2,0,"div",12),e.k0s(),e.j41(39,"div",17)(40,"label",10),e.EFF(41,"Metodolog\xeda"),e.k0s(),e.nrm(42,"textarea",22),e.k0s(),e.j41(43,"div",23)(44,"label",10),e.EFF(45,"Resultados Esperados"),e.k0s(),e.nrm(46,"textarea",24),e.k0s(),e.j41(47,"div",23)(48,"div",25)(49,"div",26)(50,"h6",5),e.nrm(51,"i",27),e.EFF(52," Acci\xf3n del Proyecto "),e.k0s()(),e.j41(53,"div",7)(54,"div",28)(55,"input",29),e.bIt("change",function(){return r.projectState="borrador"}),e.k0s(),e.j41(56,"label",30)(57,"strong"),e.EFF(58,"Guardar como Borrador"),e.k0s()(),e.j41(59,"small",31),e.EFF(60," Solo t\xfa podr\xe1s ver este proyecto. Podr\xe1s editarlo y enviarlo m\xe1s tarde desde tu portafolio. "),e.k0s()(),e.j41(61,"div",32)(62,"input",33),e.bIt("change",function(){return r.projectState="pendiente"}),e.k0s(),e.j41(63,"label",34)(64,"strong"),e.EFF(65,"Enviar para Revisi\xf3n"),e.k0s()(),e.j41(66,"small",35),e.EFF(67," El proyecto ser\xe1 enviado a tu tutor y coordinador para revisi\xf3n. Ser\xe1 visible en tu portafolio y no podr\xe1s editarlo despu\xe9s. "),e.k0s()()()()()(),e.j41(68,"div",36)(69,"button",37),e.bIt("click",function(){return r.saveDraft()}),e.nrm(70,"i",38),e.EFF(71,"Guardar Borrador "),e.k0s(),e.j41(72,"button",39),e.nrm(73,"i",40),e.EFF(74),e.k0s()()()()()()()()),2&n){let a,c,p,f,u,m;e.R7$(9),e.Y8G("formGroup",r.projectForm),e.R7$(6),e.Y8G("ngIf",(null==(a=r.projectForm.get("title"))?null:a.invalid)&&(null==(a=r.projectForm.get("title"))?null:a.touched)),e.R7$(7),e.Y8G("ngForOf",r.knowledgeAreas),e.R7$(),e.Y8G("ngIf",(null==(c=r.projectForm.get("knowledgeArea"))?null:c.invalid)&&(null==(c=r.projectForm.get("knowledgeArea"))?null:c.touched)),e.R7$(8),e.HbH((null==(p=r.projectForm.get("summary"))||null==p.value?null:p.value.length)>=100?"text-success":"text-muted"),e.R7$(),e.SpI(" ",(null==(f=r.projectForm.get("summary"))||null==f.value?null:f.value.length)||0,"/100 "),e.R7$(),e.Y8G("ngIf",(null==(u=r.projectForm.get("summary"))?null:u.invalid)&&(null==(u=r.projectForm.get("summary"))?null:u.touched)),e.R7$(5),e.Y8G("ngIf",(null==(m=r.projectForm.get("objectives"))?null:m.invalid)&&(null==(m=r.projectForm.get("objectives"))?null:m.touched)),e.R7$(17),e.Y8G("checked","borrador"===r.projectState),e.R7$(7),e.Y8G("checked","pendiente"===r.projectState),e.R7$(10),e.Y8G("disabled",!r.isFormValid),e.R7$(2),e.SpI(" ","pendiente"===r.projectState?"Enviar para Revisi\xf3n":"Guardar y Continuar"," ")}},dependencies:[d.MD,d.Sq,d.bT,l.YN,l.qT,l.xH,l.y7,l.me,l.wz,l.BC,l.cb,l.X1,l.j4,l.JD]})}}return t})()}}]);