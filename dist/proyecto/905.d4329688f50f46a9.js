"use strict";(self.webpackChunksistema_de_gesti_n_de_proyectos=self.webpackChunksistema_de_gesti_n_de_proyectos||[]).push([[905],{1905:(m,d,s)=>{s.r(d),s.d(d,{ReportsComponent:()=>p});var l=s(467),a=s(177),e=s(4438);function c(n,u){1&n&&(e.j41(0,"div",59)(1,"div",60)(2,"span",61),e.EFF(3,"Generando reporte..."),e.k0s()(),e.j41(4,"p",62),e.EFF(5,"Generando reporte, por favor espere..."),e.k0s()())}let p=(()=>{class n{constructor(){this.loading=!1,this.previewContent="",this.previewTitle="",this.currentPreviewType="",this.stats={totalUsers:156,activeProjects:42,approvalRate:78,systemUsage:95}}ngOnInit(){}generateReport(i,o){var t=this;return(0,l.A)(function*(){t.loading=!0;try{yield new Promise(b=>setTimeout(b,2e3));const r=`reporte_${i}_${(new Date).toISOString().split("T")[0]}`;switch(o){case"pdf":t.downloadPDF(r);break;case"excel":t.downloadExcel(r)}}catch(r){console.error("Error generando reporte:",r),alert("Error al generar el reporte")}finally{t.loading=!1}})()}previewReport(i){switch(this.currentPreviewType=i,i){case"users":this.previewTitle="Vista Previa - Reporte de Usuarios",this.previewContent=this.generateUserPreview();break;case"projects":this.previewTitle="Vista Previa - Reporte de Proyectos",this.previewContent=this.generateProjectPreview();break;case"academic":this.previewTitle="Vista Previa - M\xe9tricas Acad\xe9micas",this.previewContent=this.generateAcademicPreview();break;case"system":this.previewTitle="Vista Previa - Rendimiento del Sistema",this.previewContent=this.generateSystemPreview()}this.showModal("previewModal")}downloadRecentReport(i){this.downloadPDF(`reporte_${i}_reciente`)}downloadCurrentPreview(){this.generateReport(this.currentPreviewType,"pdf"),this.hideModal("previewModal")}downloadCurrentPreviewExcel(){this.generateReport(this.currentPreviewType,"excel"),this.hideModal("previewModal")}generateUserPreview(){return`\n      <div class="report-preview">\n        <h4 class="text-primary">Reporte de Usuarios del Sistema</h4>\n        <p class="text-muted">Generado el: ${(new Date).toLocaleDateString()}</p>\n        \n        <div class="table-responsive">\n          <table class="table table-bordered table-striped">\n            <thead class="table-primary">\n              <tr>\n                <th>Rol</th>\n                <th>Total Usuarios</th>\n                <th>Activos</th>\n                <th>Porcentaje</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Estudiantes</td>\n                <td>120</td>\n                <td>115</td>\n                <td>75%</td>\n              </tr>\n              <tr>\n                <td>Docentes</td>\n                <td>25</td>\n                <td>24</td>\n                <td>16%</td>\n              </tr>\n              <tr>\n                <td>Administradores</td>\n                <td>5</td>\n                <td>5</td>\n                <td>3%</td>\n              </tr>\n              <tr>\n                <td>Coordinadores</td>\n                <td>6</td>\n                <td>6</td>\n                <td>4%</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        \n        <div class="mt-4">\n          <h5>Resumen</h5>\n          <ul>\n            <li>Total de usuarios registrados: 156</li>\n            <li>Usuarios activos: 150 (96%)</li>\n            <li>Nuevos usuarios este mes: 12</li>\n          </ul>\n        </div>\n      </div>\n    `}generateProjectPreview(){return`\n      <div class="report-preview">\n        <h4 class="text-info">Reporte de Proyectos</h4>\n        <p class="text-muted">Generado el: ${(new Date).toLocaleDateString()}</p>\n        \n        <div class="table-responsive">\n          <table class="table table-bordered table-striped">\n            <thead class="table-info">\n              <tr>\n                <th>Estado</th>\n                <th>Cantidad</th>\n                <th>Porcentaje</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Activos</td>\n                <td>42</td>\n                <td>60%</td>\n              </tr>\n              <tr>\n                <td>En revisi\xf3n</td>\n                <td>15</td>\n                <td>21%</td>\n              </tr>\n              <tr>\n                <td>Completados</td>\n                <td>8</td>\n                <td>11%</td>\n              </tr>\n              <tr>\n                <td>Cancelados</td>\n                <td>5</td>\n                <td>7%</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    `}generateAcademicPreview(){return`\n      <div class="report-preview">\n        <h4 class="text-warning">M\xe9tricas Acad\xe9micas</h4>\n        <p class="text-muted">Generado el: ${(new Date).toLocaleDateString()}</p>\n        \n        <div class="table-responsive">\n          <table class="table table-bordered table-striped">\n            <thead class="table-warning">\n              <tr>\n                <th>Indicador</th>\n                <th>Valor</th>\n                <th>Tendencia</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Tasa de Aprobaci\xf3n</td>\n                <td>78%</td>\n                <td>\u2197\ufe0f +2%</td>\n              </tr>\n              <tr>\n                <td>Promedio General</td>\n                <td>4.2/5.0</td>\n                <td>\u2192 Estable</td>\n              </tr>\n              <tr>\n                <td>Retenci\xf3n Estudiantil</td>\n                <td>92%</td>\n                <td>\u2197\ufe0f +1%</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    `}generateSystemPreview(){return`\n      <div class="report-preview">\n        <h4 class="text-danger">Rendimiento del Sistema</h4>\n        <p class="text-muted">Generado el: ${(new Date).toLocaleDateString()}</p>\n        \n        <div class="table-responsive">\n          <table class="table table-bordered table-striped">\n            <thead class="table-danger">\n              <tr>\n                <th>M\xe9trica</th>\n                <th>Valor</th>\n                <th>Estado</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>Uso del Sistema</td>\n                <td>95%</td>\n                <td>\u{1f7e2} Excelente</td>\n              </tr>\n              <tr>\n                <td>Tiempo de Respuesta</td>\n                <td>120ms</td>\n                <td>\u{1f7e2} \xd3ptimo</td>\n              </tr>\n              <tr>\n                <td>Disponibilidad</td>\n                <td>99.8%</td>\n                <td>\u{1f7e2} Excelente</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    `}downloadPDF(i){console.log(`Descargando PDF: ${i}`),alert(`Reporte ${i}.pdf generado exitosamente`)}downloadExcel(i){console.log(`Descargando Excel: ${i}`),alert(`Reporte ${i}.xlsx generado exitosamente`)}showModal(i){const o=document.getElementById(i);o&&new window.bootstrap.Modal(o).show()}hideModal(i){const o=document.getElementById(i);o&&new window.bootstrap.Modal(o).hide()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-reports"]],standalone:!0,features:[e.aNF],decls:156,vars:19,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"bi","bi-graph-up","me-2"],[1,"card-body"],[1,"alert","alert-info"],[1,"bi","bi-info-circle","me-2"],[1,"row","mb-4"],[1,"col-md-3","mb-3"],[1,"card","text-center","h-100"],[1,"bi","bi-people","display-4","text-primary"],[1,"mt-2"],[1,"text-muted"],["role","group",1,"btn-group"],[1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"bi","bi-file-pdf"],[1,"btn","btn-outline-success","btn-sm",3,"click","disabled"],[1,"bi","bi-file-spreadsheet"],[1,"btn","btn-outline-info","btn-sm",3,"click","disabled"],[1,"bi","bi-eye"],[1,"bi","bi-folder","display-4","text-info"],[1,"bi","bi-bar-chart","display-4","text-warning"],[1,"bi","bi-activity","display-4","text-danger"],["class","text-center mb-4",4,"ngIf"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-file-text","text-primary","me-2"],[1,"text-muted","me-2"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"],[1,"bi","bi-download"],[1,"bi","bi-file-text","text-info","me-2"],[1,"bi","bi-file-text","text-success","me-2"],[1,"row","text-center"],[1,"col-6","mb-3"],[1,"border-end"],[1,"text-primary","mb-1"],[1,"text-success","mb-1"],[1,"col-6"],[1,"text-warning","mb-1"],[1,"text-info","mb-1"],["id","previewModal","tabindex","-1","aria-labelledby","previewModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","previewModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-download","me-1"],["type","button",1,"btn","btn-success",3,"click"],[1,"text-center","mb-4"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"],[1,"mt-2","text-muted"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),e.nrm(6,"i",6),e.EFF(7," Reportes y An\xe1lisis "),e.k0s()(),e.j41(8,"div",7)(9,"div",8),e.nrm(10,"i",9),e.EFF(11," Sistema de generaci\xf3n de reportes estad\xedsticos y an\xe1lisis del sistema. "),e.k0s(),e.j41(12,"div",10)(13,"div",11)(14,"div",12)(15,"div",7),e.nrm(16,"i",13),e.j41(17,"h5",14),e.EFF(18,"Usuarios"),e.k0s(),e.j41(19,"p",15),e.EFF(20,"Reportes de usuarios"),e.k0s(),e.j41(21,"div",16)(22,"button",17),e.bIt("click",function(){return t.generateReport("users","pdf")}),e.nrm(23,"i",18),e.k0s(),e.j41(24,"button",19),e.bIt("click",function(){return t.generateReport("users","excel")}),e.nrm(25,"i",20),e.k0s(),e.j41(26,"button",21),e.bIt("click",function(){return t.previewReport("users")}),e.nrm(27,"i",22),e.k0s()()()()(),e.j41(28,"div",11)(29,"div",12)(30,"div",7),e.nrm(31,"i",23),e.j41(32,"h5",14),e.EFF(33,"Proyectos"),e.k0s(),e.j41(34,"p",15),e.EFF(35,"Estad\xedsticas de proyectos"),e.k0s(),e.j41(36,"div",16)(37,"button",17),e.bIt("click",function(){return t.generateReport("projects","pdf")}),e.nrm(38,"i",18),e.k0s(),e.j41(39,"button",19),e.bIt("click",function(){return t.generateReport("projects","excel")}),e.nrm(40,"i",20),e.k0s(),e.j41(41,"button",21),e.bIt("click",function(){return t.previewReport("projects")}),e.nrm(42,"i",22),e.k0s()()()()(),e.j41(43,"div",11)(44,"div",12)(45,"div",7),e.nrm(46,"i",24),e.j41(47,"h5",14),e.EFF(48,"Acad\xe9mico"),e.k0s(),e.j41(49,"p",15),e.EFF(50,"M\xe9tricas acad\xe9micas"),e.k0s(),e.j41(51,"div",16)(52,"button",17),e.bIt("click",function(){return t.generateReport("academic","pdf")}),e.nrm(53,"i",18),e.k0s(),e.j41(54,"button",19),e.bIt("click",function(){return t.generateReport("academic","excel")}),e.nrm(55,"i",20),e.k0s(),e.j41(56,"button",21),e.bIt("click",function(){return t.previewReport("academic")}),e.nrm(57,"i",22),e.k0s()()()()(),e.j41(58,"div",11)(59,"div",12)(60,"div",7),e.nrm(61,"i",25),e.j41(62,"h5",14),e.EFF(63,"Sistema"),e.k0s(),e.j41(64,"p",15),e.EFF(65,"Rendimiento del sistema"),e.k0s(),e.j41(66,"div",16)(67,"button",17),e.bIt("click",function(){return t.generateReport("system","pdf")}),e.nrm(68,"i",18),e.k0s(),e.j41(69,"button",19),e.bIt("click",function(){return t.generateReport("system","excel")}),e.nrm(70,"i",20),e.k0s(),e.j41(71,"button",21),e.bIt("click",function(){return t.previewReport("system")}),e.nrm(72,"i",22),e.k0s()()()()()(),e.DNE(73,c,6,0,"div",26),e.j41(74,"div",1)(75,"div",27)(76,"div",28)(77,"div",29)(78,"h6",5),e.EFF(79,"Reportes Recientes"),e.k0s()(),e.j41(80,"div",7)(81,"div",30)(82,"div",31)(83,"div"),e.nrm(84,"i",32),e.EFF(85," Reporte de Usuarios Activos "),e.k0s(),e.j41(86,"div")(87,"small",33),e.EFF(88,"Hace 2 d\xedas"),e.k0s(),e.j41(89,"button",34),e.bIt("click",function(){return t.downloadRecentReport("users")}),e.nrm(90,"i",35),e.k0s()()(),e.j41(91,"div",31)(92,"div"),e.nrm(93,"i",36),e.EFF(94," Proyectos por Estado "),e.k0s(),e.j41(95,"div")(96,"small",33),e.EFF(97,"Hace 1 semana"),e.k0s(),e.j41(98,"button",34),e.bIt("click",function(){return t.downloadRecentReport("projects")}),e.nrm(99,"i",35),e.k0s()()(),e.j41(100,"div",31)(101,"div"),e.nrm(102,"i",37),e.EFF(103," M\xe9tricas Acad\xe9micas "),e.k0s(),e.j41(104,"div")(105,"small",33),e.EFF(106,"Hace 2 semanas"),e.k0s(),e.j41(107,"button",34),e.bIt("click",function(){return t.downloadRecentReport("academic")}),e.nrm(108,"i",35),e.k0s()()()()()()(),e.j41(109,"div",27)(110,"div",28)(111,"div",29)(112,"h6",5),e.EFF(113,"Estad\xedsticas R\xe1pidas"),e.k0s()(),e.j41(114,"div",7)(115,"div",38)(116,"div",39)(117,"div",40)(118,"h4",41),e.EFF(119),e.k0s(),e.j41(120,"small",15),e.EFF(121,"Usuarios Totales"),e.k0s()()(),e.j41(122,"div",39)(123,"h4",42),e.EFF(124),e.k0s(),e.j41(125,"small",15),e.EFF(126,"Proyectos Activos"),e.k0s()(),e.j41(127,"div",43)(128,"div",40)(129,"h4",44),e.EFF(130),e.k0s(),e.j41(131,"small",15),e.EFF(132,"Tasa de Aprobaci\xf3n"),e.k0s()()(),e.j41(133,"div",43)(134,"h4",45),e.EFF(135),e.k0s(),e.j41(136,"small",15),e.EFF(137,"Uso del Sistema"),e.k0s()()()()()()()()()()()(),e.j41(138,"div",46)(139,"div",47)(140,"div",48)(141,"div",49)(142,"h5",50),e.EFF(143),e.k0s(),e.nrm(144,"button",51),e.k0s(),e.j41(145,"div",52),e.nrm(146,"div",53),e.k0s(),e.j41(147,"div",54)(148,"button",55),e.EFF(149,"Cerrar"),e.k0s(),e.j41(150,"button",56),e.bIt("click",function(){return t.downloadCurrentPreview()}),e.nrm(151,"i",57),e.EFF(152,"Descargar PDF "),e.k0s(),e.j41(153,"button",58),e.bIt("click",function(){return t.downloadCurrentPreviewExcel()}),e.nrm(154,"i",57),e.EFF(155,"Descargar Excel "),e.k0s()()()()()),2&o&&(e.R7$(22),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(11),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(11),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(11),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("disabled",t.loading),e.R7$(2),e.Y8G("ngIf",t.loading),e.R7$(46),e.JRh(t.stats.totalUsers),e.R7$(5),e.JRh(t.stats.activeProjects),e.R7$(6),e.SpI("",t.stats.approvalRate,"%"),e.R7$(5),e.SpI("",t.stats.systemUsage,"%"),e.R7$(8),e.JRh(t.previewTitle),e.R7$(3),e.Y8G("innerHTML",t.previewContent,e.npT))},dependencies:[a.MD,a.bT],styles:[".report-preview[_ngcontent-%COMP%]{font-family:Arial,sans-serif}.report-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;border-bottom:2px solid #3498db;padding-bottom:.5rem}.report-preview[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa;font-weight:600}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.375rem;margin:0 2px}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.list-group-item[_ngcontent-%COMP%]{transition:background-color .2s ease}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}"]})}}return n})()}}]);