"use strict";(self.webpackChunksistema_de_gesti_n_de_proyectos=self.webpackChunksistema_de_gesti_n_de_proyectos||[]).push([[507],{5507:(V,p,c)=>{c.r(p),c.d(p,{RepositoryComponent:()=>P});var u=c(467),d=c(177),a=c(4341),e=c(4438);function _(n,r){if(1&n&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function g(n,r){if(1&n){const t=e.RV6();e.j41(0,"span",52),e.EFF(1),e.j41(2,"button",53),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.removeSearchTag(i))}),e.k0s()()}if(2&n){const t=r.$implicit;e.R7$(),e.SpI(" #",t," ")}}function m(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",46)(1,"div",47)(2,"small",48),e.EFF(3,"Etiquetas:"),e.k0s(),e.DNE(4,g,3,1,"span",49),e.j41(5,"button",50),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearSearchTags())}),e.nrm(6,"i",51),e.EFF(7,"Limpiar "),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.searchTags)}}function b(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",54)(1,"div",5)(2,"div")(3,"small",48),e.nrm(4,"i",55),e.EFF(5," Filtros activos: "),e.j41(6,"span",56),e.EFF(7),e.k0s(),e.EFF(8," de "),e.j41(9,"span",57),e.EFF(10),e.k0s(),e.EFF(11," recursos "),e.k0s()(),e.j41(12,"button",58),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearAllFilters())}),e.nrm(13,"i",59),e.EFF(14,"Limpiar todo "),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(7),e.JRh(t.filteredResources.length),e.R7$(3),e.JRh(t.resources.length)}}function h(n,r){if(1&n&&(e.j41(0,"span",76),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.R7$(),e.SpI(" #",t," ")}}function f(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",60)(1,"div",61)(2,"div",62)(3,"span"),e.nrm(4,"i"),e.EFF(5),e.k0s(),e.j41(6,"div",63)(7,"button",64),e.nrm(8,"i",65),e.k0s(),e.j41(9,"ul",66)(10,"li")(11,"a",67),e.bIt("click",function(i){const s=e.eBV(t).$implicit;return e.XpG().viewResource(s),e.Njj(i.preventDefault())}),e.nrm(12,"i",68),e.EFF(13,"Ver "),e.k0s()(),e.j41(14,"li")(15,"a",67),e.bIt("click",function(i){const s=e.eBV(t).$implicit;return e.XpG().downloadResource(s),e.Njj(i.preventDefault())}),e.nrm(16,"i",69),e.EFF(17,"Descargar "),e.k0s()(),e.j41(18,"li"),e.nrm(19,"hr",70),e.k0s(),e.j41(20,"li")(21,"a",71),e.bIt("click",function(i){const s=e.eBV(t).$implicit;return e.XpG().deleteResource(s.id),e.Njj(i.preventDefault())}),e.nrm(22,"i",72),e.EFF(23,"Eliminar "),e.k0s()()()()(),e.j41(24,"div",11)(25,"h6",73),e.EFF(26),e.k0s(),e.j41(27,"p",74),e.EFF(28),e.k0s(),e.j41(29,"div",75)(30,"span",76),e.nrm(31,"i",77),e.EFF(32),e.k0s(),e.DNE(33,h,2,1,"span",78),e.k0s(),e.j41(34,"div",79)(35,"div",80)(36,"span"),e.nrm(37,"i",81),e.EFF(38),e.k0s(),e.j41(39,"span"),e.nrm(40,"i",82),e.EFF(41),e.nI1(42,"date"),e.k0s()(),e.j41(43,"div",83)(44,"span"),e.nrm(45,"i",84),e.EFF(46),e.k0s(),e.j41(47,"span"),e.nrm(48,"i",85),e.EFF(49),e.k0s()()()(),e.j41(50,"div",86)(51,"div",5)(52,"small",48),e.nrm(53,"i",87),e.EFF(54),e.k0s(),e.j41(55,"span",88),e.EFF(56),e.k0s()()()()()}if(2&n){const t=r.$implicit,o=e.XpG();e.R7$(3),e.ZvI("badge ",o.getFileTypeClass(t.fileType),""),e.R7$(),e.ZvI("bi ",o.getFileIcon(t.fileType)," me-1"),e.R7$(),e.SpI(" ",t.fileType.toUpperCase()," "),e.R7$(21),e.JRh(t.title),e.R7$(2),e.JRh(t.description),e.R7$(4),e.SpI("",t.category," "),e.R7$(),e.Y8G("ngForOf",t.tags),e.R7$(5),e.SpI(" ",t.uploader," "),e.R7$(3),e.SpI(" ",e.i5U(42,21,t.uploadDate,"dd/MM/yy")," "),e.R7$(5),e.SpI(" ",t.fileSize?o.formatFileSize(t.fileSize):"N/A"," "),e.R7$(3),e.SpI(" ",t.downloadCount," "),e.R7$(5),e.SpI("",t.viewCount," vistas "),e.R7$(),e.AVh("bg-success",t.isPublic)("bg-secondary",!t.isPublic),e.R7$(),e.SpI(" ",t.isPublic?"P\xfablico":"Privado"," ")}}function F(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",89),e.nrm(1,"i",90),e.j41(2,"h5",91),e.EFF(3,"No se encontraron recursos"),e.k0s(),e.j41(4,"p",48),e.EFF(5,"Prueba ajustando los filtros de b\xfasqueda"),e.k0s(),e.j41(6,"button",92),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearAllFilters())}),e.nrm(7,"i",59),e.EFF(8,"Limpiar Filtros "),e.k0s(),e.j41(9,"button",93),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openUploadModal())}),e.nrm(10,"i",10),e.EFF(11,"Subir Nuevo Recurso "),e.k0s()()}}function v(n,r){1&n&&e.nrm(0,"div",94)}function y(n,r){if(1&n){const t=e.RV6();e.j41(0,"span",123),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.addTagFromSuggestion(i))}),e.EFF(1),e.k0s()}if(2&n){const t=r.$implicit;e.R7$(),e.SpI(" #",t," ")}}function R(n,r){if(1&n&&(e.j41(0,"div",46)(1,"small",120),e.EFF(2,"Etiquetas sugeridas:"),e.k0s(),e.j41(3,"div",121),e.DNE(4,y,2,1,"span",122),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.getSuggestedTags())}}function k(n,r){if(1&n){const t=e.RV6();e.j41(0,"span",52),e.EFF(1),e.j41(2,"button",53),e.bIt("click",function(){const i=e.eBV(t).$implicit,s=e.XpG(3);return e.Njj(s.removeSearchTag(i))}),e.k0s()()}if(2&n){const t=r.$implicit;e.R7$(),e.SpI(" #",t," ")}}function j(n,r){if(1&n&&(e.j41(0,"div",124)(1,"small",120),e.EFF(2,"Etiquetas activas:"),e.k0s(),e.j41(3,"div",121),e.DNE(4,k,3,1,"span",49),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.searchTags)}}function C(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",125)(1,"input",126),e.bIt("change",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.toggleCategory(i))}),e.k0s(),e.j41(2,"label",127),e.EFF(3),e.k0s()()}if(2&n){const t=r.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("id","cat-"+t)("checked",o.selectedCategories.includes(t)),e.R7$(),e.Y8G("for","cat-"+t),e.R7$(),e.SpI(" ",t," ")}}function T(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",125)(1,"input",126),e.bIt("change",function(){const i=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.toggleFileType(i.value))}),e.k0s(),e.j41(2,"label",127),e.nrm(3,"i"),e.EFF(4),e.k0s()()}if(2&n){const t=r.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("id","type-"+t.value)("checked",o.selectedFileTypes.includes(t.value)),e.R7$(),e.Y8G("for","type-"+t.value),e.R7$(),e.ZvI("bi ",t.icon," me-2"),e.R7$(),e.SpI(" ",t.label," ")}}function w(n,r){if(1&n&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function E(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",95)(1,"div",96)(2,"div",97)(3,"div",98)(4,"h5",99),e.nrm(5,"i",100),e.EFF(6," B\xfasqueda Avanzada "),e.k0s(),e.j41(7,"button",101),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.showSearchModal=!1)}),e.k0s()(),e.j41(8,"div",102)(9,"div",103)(10,"label",104),e.EFF(11,"B\xfasqueda por Etiquetas"),e.k0s(),e.j41(12,"div",105)(13,"input",106),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.currentTagInput,i)||(s.currentTagInput=i),e.Njj(i)}),e.bIt("keyup.enter",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.addSearchTag())}),e.k0s(),e.j41(14,"button",107),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.addSearchTag())}),e.nrm(15,"i",108),e.EFF(16," Agregar "),e.k0s()(),e.DNE(17,R,5,1,"div",26)(18,j,5,1,"div",109),e.k0s(),e.j41(19,"div",28)(20,"div",110)(21,"label",104),e.EFF(22,"Categor\xedas"),e.k0s(),e.j41(23,"div",111),e.DNE(24,C,4,4,"div",112),e.k0s()(),e.j41(25,"div",110)(26,"label",104),e.EFF(27,"Tipo de Archivo"),e.k0s(),e.j41(28,"div",111),e.DNE(29,T,5,7,"div",112),e.k0s()()(),e.j41(30,"div",1)(31,"div",110)(32,"label",104),e.EFF(33,"Visibilidad"),e.k0s(),e.j41(34,"select",22),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.selectedVisibility,i)||(s.selectedVisibility=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.applyFilters())}),e.j41(35,"option",113),e.EFF(36,"Todos los recursos"),e.k0s(),e.j41(37,"option",114),e.EFF(38,"Solo p\xfablicos"),e.k0s(),e.j41(39,"option",115),e.EFF(40,"Solo privados"),e.k0s()()(),e.j41(41,"div",110)(42,"label",104),e.EFF(43,"Ordenar por"),e.k0s(),e.j41(44,"select",22),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.sortBy,i)||(s.sortBy=i),e.Njj(i)}),e.bIt("change",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.changeSort(i.sortBy))}),e.DNE(45,w,2,2,"option",23),e.k0s()()()(),e.j41(46,"div",116)(47,"button",117),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearAllFilters())}),e.nrm(48,"i",59),e.EFF(49,"Limpiar Todo "),e.k0s(),e.j41(50,"button",118),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.applyFiltersAndClose())}),e.nrm(51,"i",119),e.EFF(52,"Aplicar Filtros "),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(13),e.R50("ngModel",t.currentTagInput),e.R7$(4),e.Y8G("ngIf",t.getSuggestedTags().length>0),e.R7$(),e.Y8G("ngIf",t.searchTags.length>0),e.R7$(6),e.Y8G("ngForOf",t.categories),e.R7$(5),e.Y8G("ngForOf",t.fileTypes),e.R7$(5),e.R50("ngModel",t.selectedVisibility),e.R7$(10),e.R50("ngModel",t.sortBy),e.R7$(),e.Y8G("ngForOf",t.sortOptions)}}function I(n,r){1&n&&e.nrm(0,"div",94)}function x(n,r){if(1&n&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function M(n,r){if(1&n&&(e.j41(0,"option",45),e.EFF(1),e.k0s()),2&n){const t=r.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function G(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",142)(1,"div"),e.nrm(2,"i",143),e.EFF(3),e.j41(4,"small",144),e.EFF(5),e.k0s()(),e.j41(6,"button",145),e.bIt("click",function(){const i=e.eBV(t).index,s=e.XpG(3);return e.Njj(s.removeSelectedFile(i))}),e.nrm(7,"i",146),e.k0s()()}if(2&n){const t=r.$implicit,o=e.XpG(3);e.R7$(3),e.SpI(" ",t.name," "),e.R7$(2),e.SpI("(",o.getFileSizeDisplay(t.size),")"),e.R7$(),e.Y8G("disabled",o.isUploading)}}function D(n,r){if(1&n&&(e.j41(0,"div",46)(1,"label",104),e.EFF(2,"Archivos a subir:"),e.k0s(),e.j41(3,"div",140),e.DNE(4,G,8,3,"div",141),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.selectedFiles)}}function S(n,r){if(1&n&&(e.j41(0,"div",46)(1,"label",104),e.EFF(2,"Progreso de Subida"),e.k0s(),e.j41(3,"div",147)(4,"div",148),e.EFF(5),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(4),e.xc7("width",t.uploadProgress+"%"),e.R7$(),e.SpI(" ",t.uploadProgress,"% ")}}function $(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",95)(1,"div",96)(2,"div",97)(3,"div",128)(4,"h5",99),e.nrm(5,"i",129),e.EFF(6," Subir Nuevos Recursos "),e.k0s(),e.j41(7,"button",130),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeUploadModal())}),e.k0s()(),e.j41(8,"div",102)(9,"div",12)(10,"div",110)(11,"label",104),e.EFF(12,"T\xedtulo del Recurso *"),e.k0s(),e.j41(13,"input",131),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.newResource.title,i)||(s.newResource.title=i),e.Njj(i)}),e.k0s()(),e.j41(14,"div",110)(15,"label",104),e.EFF(16,"Categor\xeda *"),e.k0s(),e.j41(17,"select",132),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.newResource.category,i)||(s.newResource.category=i),e.Njj(i)}),e.j41(18,"option",133),e.EFF(19,"Selecciona una categor\xeda"),e.k0s(),e.DNE(20,x,2,2,"option",23),e.k0s()()(),e.j41(21,"div",46)(22,"label",104),e.EFF(23,"Descripci\xf3n"),e.k0s(),e.j41(24,"textarea",134),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.newResource.description,i)||(s.newResource.description=i),e.Njj(i)}),e.k0s()(),e.j41(25,"div",12)(26,"div",110)(27,"label",104),e.EFF(28,"Tipo de Archivo"),e.k0s(),e.j41(29,"select",132),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.newResource.fileType,i)||(s.newResource.fileType=i),e.Njj(i)}),e.DNE(30,M,2,2,"option",23),e.k0s()(),e.j41(31,"div",110)(32,"label",104),e.EFF(33,"Visibilidad"),e.k0s(),e.j41(34,"select",132),e.mxI("ngModelChange",function(i){e.eBV(t);const s=e.XpG();return e.DH7(s.newResource.isPublic,i)||(s.newResource.isPublic=i),e.Njj(i)}),e.j41(35,"option",135),e.EFF(36,"P\xfablico"),e.k0s(),e.j41(37,"option",135),e.EFF(38,"Privado"),e.k0s()()()(),e.j41(39,"div",46)(40,"label",104),e.EFF(41,"Seleccionar Archivos *"),e.k0s(),e.j41(42,"input",136),e.bIt("change",function(i){e.eBV(t);const s=e.XpG();return e.Njj(s.onFileSelected(i))}),e.k0s(),e.j41(43,"div",137),e.EFF(44," Puedes seleccionar m\xfaltiples archivos. Tama\xf1o m\xe1ximo por archivo: 50MB "),e.k0s()(),e.DNE(45,D,5,1,"div",26)(46,S,6,3,"div",26),e.k0s(),e.j41(47,"div",116)(48,"button",138),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeUploadModal())}),e.nrm(49,"i",51),e.EFF(50,"Cancelar "),e.k0s(),e.j41(51,"button",139),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.uploadFiles())}),e.nrm(52,"i",10),e.EFF(53),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(7),e.Y8G("disabled",t.isUploading),e.R7$(6),e.R50("ngModel",t.newResource.title),e.Y8G("disabled",t.isUploading),e.R7$(4),e.R50("ngModel",t.newResource.category),e.Y8G("disabled",t.isUploading),e.R7$(3),e.Y8G("ngForOf",t.categories),e.R7$(4),e.R50("ngModel",t.newResource.description),e.Y8G("disabled",t.isUploading),e.R7$(5),e.R50("ngModel",t.newResource.fileType),e.Y8G("disabled",t.isUploading),e.R7$(),e.Y8G("ngForOf",t.fileTypes),e.R7$(4),e.R50("ngModel",t.newResource.isPublic),e.Y8G("disabled",t.isUploading),e.R7$(),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngValue",!1),e.R7$(5),e.Y8G("disabled",t.isUploading),e.R7$(3),e.Y8G("ngIf",t.selectedFiles.length>0),e.R7$(),e.Y8G("ngIf",t.isUploading),e.R7$(2),e.Y8G("disabled",t.isUploading),e.R7$(3),e.Y8G("disabled",t.isUploading||0===t.selectedFiles.length||!t.newResource.title),e.R7$(2),e.SpI(" ",t.isUploading?"Subiendo...":"Subir Recursos"," ")}}let P=(()=>{class n{constructor(){this.resources=[{id:"RES-001",title:"Gu\xeda de Programaci\xf3n Avanzada",description:"Material completo sobre patrones de dise\xf1o y arquitectura de software",fileType:"pdf",category:"Programaci\xf3n",tags:["patrones","arquitectura","java","programaci\xf3n"],fileSize:2.5,uploadDate:new Date("2024-01-10"),uploader:"Dr. Carlos Mendoza",downloadCount:45,viewCount:120,isPublic:!0},{id:"RES-002",title:"Video: Introducci\xf3n a Base de Datos",description:"Video tutorial sobre normalizaci\xf3n y dise\xf1o de bases de datos",fileType:"video",category:"Base de Datos",tags:["sql","normalizaci\xf3n","tutorial","bases de datos"],fileSize:15.8,uploadDate:new Date("2024-01-08"),uploader:"Dra. Ana L\xf3pez",downloadCount:78,viewCount:210,isPublic:!0},{id:"RES-003",title:"Presentaci\xf3n: Redes Neuronales",description:"Diapositivas sobre fundamentos de machine learning y deep learning",fileType:"document",category:"Inteligencia Artificial",tags:["machine learning","deep learning","redes neuronales","python"],fileSize:8.2,uploadDate:new Date("2024-01-05"),uploader:"Dr. Roberto Silva",downloadCount:32,viewCount:95,isPublic:!1},{id:"RES-004",title:"Ejercicios de Matem\xe1ticas Discretas",description:"Colecci\xf3n de problemas resueltos de l\xf3gica matem\xe1tica",fileType:"pdf",category:"Matem\xe1ticas",tags:["l\xf3gica","ejercicios","matem\xe1ticas discretas","problemas"],fileSize:1.8,uploadDate:new Date("2024-01-12"),uploader:"Dra. Mar\xeda Gonz\xe1lez",downloadCount:67,viewCount:150,isPublic:!0}],this.searchQuery="",this.searchTags=[],this.currentTagInput="",this.selectedCategories=[],this.selectedFileTypes=[],this.selectedVisibility="all",this.dateRange={start:null,end:null},this.sortBy="uploadDate",this.sortOrder="desc",this.showFilters=!1,this.showSearchModal=!1,this.filteredResources=[],this.showUploadModal=!1,this.isUploading=!1,this.uploadProgress=0,this.selectedFiles=[],this.newResource={title:"",description:"",fileType:"document",category:"",tags:[],isPublic:!0},this.categories=["Programaci\xf3n","Base de Datos","Redes","Matem\xe1ticas","Inteligencia Artificial","Investigaci\xf3n","Tesis","Ex\xe1menes","Material de Clase"],this.fileTypes=[{value:"pdf",label:"PDF",icon:"bi-file-earmark-pdf"},{value:"video",label:"Video",icon:"bi-play-btn"},{value:"image",label:"Imagen",icon:"bi-image"},{value:"document",label:"Documento",icon:"bi-file-earmark-word"},{value:"link",label:"Enlace",icon:"bi-link"},{value:"other",label:"Otro",icon:"bi-file-earmark"}],this.sortOptions=[{value:"uploadDate",label:"Fecha de subida",icon:"bi-calendar"},{value:"title",label:"T\xedtulo",icon:"bi-sort-alpha-down"},{value:"downloadCount",label:"Popularidad",icon:"bi-download"},{value:"viewCount",label:"Visualizaciones",icon:"bi-eye"},{value:"fileSize",label:"Tama\xf1o",icon:"bi-hdd"}]}ngOnInit(){this.applyFilters()}applyFilters(){let t=[...this.resources];if(this.searchQuery.trim()){const o=this.searchQuery.toLowerCase().trim();t=t.filter(i=>i.title.toLowerCase().includes(o)||i.description.toLowerCase().includes(o)||i.tags.some(s=>s.toLowerCase().includes(o)))}if(this.searchTags.length>0&&(t=t.filter(o=>this.searchTags.every(i=>o.tags.some(s=>s.toLowerCase().includes(i.toLowerCase()))))),this.selectedCategories.length>0&&(t=t.filter(o=>this.selectedCategories.includes(o.category))),this.selectedFileTypes.length>0&&(t=t.filter(o=>this.selectedFileTypes.includes(o.fileType))),"all"!==this.selectedVisibility){const o="public"===this.selectedVisibility;t=t.filter(i=>i.isPublic===o)}this.dateRange.start&&(t=t.filter(o=>new Date(o.uploadDate)>=new Date(this.dateRange.start))),this.dateRange.end&&(t=t.filter(o=>new Date(o.uploadDate)<=new Date(this.dateRange.end))),t=this.sortResources(t),this.filteredResources=t}sortResources(t){return t.sort((o,i)=>{let s,l;switch(this.sortBy){case"title":s=o.title.toLowerCase(),l=i.title.toLowerCase();break;case"downloadCount":s=o.downloadCount,l=i.downloadCount;break;case"viewCount":s=o.viewCount,l=i.viewCount;break;case"fileSize":s=o.fileSize||0,l=i.fileSize||0;break;default:s=new Date(o.uploadDate),l=new Date(i.uploadDate)}return"asc"===this.sortOrder?s>l?1:-1:s<l?1:-1})}onSearchChange(){this.applyFilters()}addSearchTag(){const t=this.currentTagInput.trim().toLowerCase();t&&!this.searchTags.includes(t)&&(this.searchTags.push(t),this.currentTagInput="",this.applyFilters())}removeSearchTag(t){this.searchTags=this.searchTags.filter(o=>o!==t),this.applyFilters()}clearSearchTags(){this.searchTags=[],this.applyFilters()}toggleCategory(t){const o=this.selectedCategories.indexOf(t);o>-1?this.selectedCategories.splice(o,1):this.selectedCategories.push(t),this.applyFilters()}toggleFileType(t){const o=this.selectedFileTypes.indexOf(t);o>-1?this.selectedFileTypes.splice(o,1):this.selectedFileTypes.push(t),this.applyFilters()}changeSort(t){this.sortBy===t?this.sortOrder="asc"===this.sortOrder?"desc":"asc":(this.sortBy=t,this.sortOrder="desc"),this.applyFilters()}clearAllFilters(){this.searchQuery="",this.searchTags=[],this.selectedCategories=[],this.selectedFileTypes=[],this.selectedVisibility="all",this.dateRange={start:null,end:null},this.sortBy="uploadDate",this.sortOrder="desc",this.applyFilters()}getAllTags(){const t=this.resources.flatMap(o=>o.tags);return[...new Set(t)].sort()}getSuggestedTags(){if(!this.currentTagInput.trim())return this.getAllTags().slice(0,5);const t=this.currentTagInput.toLowerCase();return this.getAllTags().filter(o=>o.toLowerCase().includes(t)&&!this.searchTags.includes(o)).slice(0,5)}getTotalDownloads(){return this.resources.reduce((t,o)=>t+o.downloadCount,0)}getTotalViews(){return this.resources.reduce((t,o)=>t+o.viewCount,0)}getPublicResourcesCount(){return this.resources.filter(t=>t.isPublic).length}openUploadModal(){this.showUploadModal=!0,this.resetUploadForm()}resetUploadForm(){this.newResource={title:"",description:"",fileType:"document",category:"",tags:[],isPublic:!0},this.selectedFiles=[],this.uploadProgress=0}onFileSelected(t){const o=t.target.files;o.length>0&&(this.selectedFiles=Array.from(o))}uploadFiles(){var t=this;return(0,u.A)(function*(){if(0===t.selectedFiles.length||!t.newResource.title)return void alert("Por favor selecciona archivos y completa el t\xedtulo");t.isUploading=!0,t.uploadProgress=0;const o=setInterval(()=>{t.uploadProgress+=10,t.uploadProgress>=100&&(clearInterval(o),t.finishUpload())},200)})()}finishUpload(){const t={id:"RES-"+(this.resources.length+1).toString().padStart(3,"0"),title:this.newResource.title,description:this.newResource.description,fileType:this.newResource.fileType,category:this.newResource.category,tags:this.newResource.tags,fileSize:this.selectedFiles.reduce((o,i)=>o+i.size/1048576,0),uploadDate:new Date,uploader:"Docente Actual",downloadCount:0,viewCount:0,isPublic:this.newResource.isPublic};this.resources.unshift(t),this.applyFilters(),this.isUploading=!1,this.showUploadModal=!1,alert("\xa1Archivos subidos exitosamente!")}removeSelectedFile(t){this.selectedFiles.splice(t,1)}getFileIcon(t){const o=this.fileTypes.find(i=>i.value===t);return o?o.icon:"bi-file-earmark"}formatFileSize(t){return t<1?(1024*t).toFixed(0)+" KB":t.toFixed(1)+" MB"}getFileTypeClass(t){return{pdf:"bg-danger",video:"bg-info",image:"bg-success",document:"bg-primary",link:"bg-warning",other:"bg-secondary"}[t]||"bg-secondary"}downloadResource(t){t.downloadCount++,this.applyFilters(),alert(`Iniciando descarga de: ${t.title}`)}viewResource(t){t.viewCount++,this.applyFilters(),alert(`Abriendo: ${t.title}`)}deleteResource(t){confirm("\xbfEst\xe1s seguro de que quieres eliminar este recurso?")&&(this.resources=this.resources.filter(o=>o.id!==t),this.applyFilters(),alert("Recurso eliminado correctamente"))}getCurrentSortLabel(){const t=this.sortOptions.find(o=>o.value===this.sortBy);return t?t.label:"Fecha de subida"}addTagFromSuggestion(t){t&&!this.searchTags.includes(t)&&(this.searchTags.push(t),this.currentTagInput="",this.applyFilters())}applyFiltersAndClose(){this.applyFilters(),this.showSearchModal=!1}closeUploadModal(){this.showUploadModal=!1,this.resetUploadForm()}getFileSizeDisplay(t){return this.formatFileSize(t/1048576)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-repository"]],standalone:!0,features:[e.aNF],decls:82,vars:22,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm","border-0","mb-4"],[1,"card-header","bg-info","text-white"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-collection","me-2"],[1,"opacity-75"],[1,"btn","btn-light",3,"click"],[1,"bi","bi-cloud-upload","me-1"],[1,"card-body"],[1,"row","mb-3"],[1,"col-md-8"],[1,"input-group"],[1,"input-group-text","bg-light"],[1,"bi","bi-search"],["type","text","placeholder","Buscar en t\xedtulos, descripciones y etiquetas...",1,"form-control",3,"ngModelChange","input","ngModel"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-funnel"],[1,"col-md-4"],[1,"d-flex","gap-2"],[1,"form-select",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-outline-secondary",3,"click","title"],[1,"bi"],["class","mb-3",4,"ngIf"],["class","alert alert-light py-2",4,"ngIf"],[1,"row","mb-4"],[1,"col-md-3"],[1,"card","bg-primary","text-white","text-center"],[1,"card-body","py-3"],[1,"card","bg-success","text-white","text-center"],[1,"card","bg-warning","text-white","text-center"],[1,"card","bg-info","text-white","text-center"],[1,"card","shadow-sm","border-0"],[1,"card-header","bg-light"],[1,"bi","bi-files","me-2"],[1,"badge","bg-primary","ms-2"],[1,"d-flex","align-items-center"],[1,"text-muted","me-3"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],["class","text-center py-5",4,"ngIf"],["class","modal-backdrop show",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[3,"value"],[1,"mb-3"],[1,"d-flex","align-items-center","flex-wrap","gap-2"],[1,"text-muted"],["class","badge bg-primary d-flex align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-x-circle","me-1"],[1,"badge","bg-primary","d-flex","align-items-center"],[1,"btn-close","btn-close-white","ms-1",2,"font-size","0.7rem",3,"click"],[1,"alert","alert-light","py-2"],[1,"bi","bi-funnel","me-1"],[1,"badge","bg-info","ms-1"],[1,"badge","bg-secondary"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"bi","bi-arrow-clockwise","me-1"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","h-100","resource-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown",1,"btn","btn-sm","btn-outline-secondary","border-0"],[1,"bi","bi-three-dots-vertical"],[1,"dropdown-menu"],["href","#",1,"dropdown-item",3,"click"],[1,"bi","bi-eye","me-2"],[1,"bi","bi-download","me-2"],[1,"dropdown-divider"],["href","#",1,"dropdown-item","text-danger",3,"click"],[1,"bi","bi-trash","me-2"],[1,"card-title"],[1,"card-text","text-muted","small"],[1,"mb-2"],[1,"badge","bg-light","text-dark","me-1"],[1,"bi","bi-folder","me-1"],["class","badge bg-light text-dark me-1",4,"ngFor","ngForOf"],[1,"resource-info","small","text-muted"],[1,"d-flex","justify-content-between"],[1,"bi","bi-person","me-1"],[1,"bi","bi-calendar","me-1"],[1,"d-flex","justify-content-between","mt-1"],[1,"bi","bi-hdd","me-1"],[1,"bi","bi-download","me-1"],[1,"card-footer","bg-transparent"],[1,"bi","bi-eye","me-1"],[1,"badge"],[1,"text-center","py-5"],[1,"bi","bi-search","display-1","text-muted"],[1,"text-muted","mt-3"],[1,"btn","btn-info","me-2",3,"click"],[1,"btn","btn-outline-info",3,"click"],[1,"modal-backdrop","show"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-dark","text-white"],[1,"modal-title"],[1,"bi","bi-funnel","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],[1,"mb-4"],[1,"form-label","fw-bold"],[1,"input-group","mb-2"],["type","text","placeholder","Escribe una etiqueta...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-plus"],["class","selected-tags",4,"ngIf"],[1,"col-md-6"],[1,"filter-options"],["class","form-check",4,"ngFor","ngForOf"],["value","all"],["value","public"],["value","private"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-check-lg","me-1"],[1,"text-muted","d-block","mb-1"],[1,"d-flex","flex-wrap","gap-1"],["class","badge bg-light text-dark cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"badge","bg-light","text-dark","cursor-pointer",3,"click"],[1,"selected-tags"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","id","checked"],[1,"form-check-label",3,"for"],[1,"modal-header","bg-primary","text-white"],[1,"bi","bi-cloud-upload","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click","disabled"],["type","text","placeholder","Ingresa un t\xedtulo descriptivo",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-select",3,"ngModelChange","ngModel","disabled"],["value",""],["rows","3","placeholder","Describe el contenido del recurso...",1,"form-control",3,"ngModelChange","ngModel","disabled"],[3,"ngValue"],["type","file","multiple","",1,"form-control",3,"change","disabled"],[1,"form-text"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"bi","bi-file-earmark","me-2"],[1,"text-muted","ms-2"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"bi","bi-x"],[1,"progress"],[1,"progress-bar","progress-bar-striped","progress-bar-animated"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h4",6),e.nrm(8,"i",7),e.EFF(9," Repositorio Docente "),e.k0s(),e.j41(10,"small",8),e.EFF(11,"Gesti\xf3n y organizaci\xf3n de recursos educativos"),e.k0s()(),e.j41(12,"button",9),e.bIt("click",function(){return i.openUploadModal()}),e.nrm(13,"i",10),e.EFF(14,"Subir Recursos "),e.k0s()()()(),e.j41(15,"div",3)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"span",15),e.nrm(21,"i",16),e.k0s(),e.j41(22,"input",17),e.mxI("ngModelChange",function(l){return e.DH7(i.searchQuery,l)||(i.searchQuery=l),l}),e.bIt("input",function(){return i.onSearchChange()}),e.k0s(),e.j41(23,"button",18),e.bIt("click",function(){return i.showSearchModal=!0}),e.nrm(24,"i",19),e.EFF(25," Filtros "),e.k0s()()(),e.j41(26,"div",20)(27,"div",21)(28,"select",22),e.mxI("ngModelChange",function(l){return e.DH7(i.sortBy,l)||(i.sortBy=l),l}),e.bIt("change",function(){return i.changeSort(i.sortBy)}),e.DNE(29,_,2,2,"option",23),e.k0s(),e.j41(30,"button",24),e.bIt("click",function(){return i.changeSort(i.sortBy)}),e.nrm(31,"i",25),e.k0s()()()(),e.DNE(32,m,8,1,"div",26)(33,b,15,2,"div",27),e.k0s()(),e.j41(34,"div",28)(35,"div",29)(36,"div",30)(37,"div",31)(38,"h4",6),e.EFF(39),e.k0s(),e.j41(40,"small"),e.EFF(41,"Total Recursos"),e.k0s()()()(),e.j41(42,"div",29)(43,"div",32)(44,"div",31)(45,"h4",6),e.EFF(46),e.k0s(),e.j41(47,"small"),e.EFF(48,"Total Descargas"),e.k0s()()()(),e.j41(49,"div",29)(50,"div",33)(51,"div",31)(52,"h4",6),e.EFF(53),e.k0s(),e.j41(54,"small"),e.EFF(55,"Total Visualizaciones"),e.k0s()()()(),e.j41(56,"div",29)(57,"div",34)(58,"div",31)(59,"h4",6),e.EFF(60),e.k0s(),e.j41(61,"small"),e.EFF(62,"Recursos P\xfablicos"),e.k0s()()()()(),e.j41(63,"div",35)(64,"div",36)(65,"div",5)(66,"h5",6),e.nrm(67,"i",37),e.EFF(68," Recursos Encontrados "),e.j41(69,"span",38),e.EFF(70),e.k0s()(),e.j41(71,"div",39)(72,"small",40),e.EFF(73),e.k0s()()()(),e.j41(74,"div",11)(75,"div",1),e.DNE(76,f,57,24,"div",41),e.k0s(),e.DNE(77,F,12,0,"div",42),e.k0s()()()()(),e.DNE(78,v,1,0,"div",43)(79,E,53,8,"div",44)(80,I,1,0,"div",43)(81,$,54,21,"div",44)),2&o&&(e.R7$(22),e.R50("ngModel",i.searchQuery),e.R7$(6),e.R50("ngModel",i.sortBy),e.R7$(),e.Y8G("ngForOf",i.sortOptions),e.R7$(),e.Y8G("title","asc"===i.sortOrder?"Orden ascendente":"Orden descendente"),e.R7$(),e.AVh("bi-sort-down","desc"===i.sortOrder)("bi-sort-up","asc"===i.sortOrder),e.R7$(),e.Y8G("ngIf",i.searchTags.length>0),e.R7$(),e.Y8G("ngIf",i.searchQuery||i.searchTags.length>0||i.selectedCategories.length>0||i.selectedFileTypes.length>0||"all"!==i.selectedVisibility),e.R7$(6),e.JRh(i.resources.length),e.R7$(7),e.JRh(i.getTotalDownloads()),e.R7$(7),e.JRh(i.getTotalViews()),e.R7$(7),e.JRh(i.getPublicResourcesCount()),e.R7$(10),e.JRh(i.filteredResources.length),e.R7$(3),e.SpI(" Ordenado por: ",i.getCurrentSortLabel()," "),e.R7$(3),e.Y8G("ngForOf",i.filteredResources),e.R7$(),e.Y8G("ngIf",0===i.filteredResources.length),e.R7$(),e.Y8G("ngIf",i.showSearchModal),e.R7$(),e.Y8G("ngIf",i.showSearchModal),e.R7$(),e.Y8G("ngIf",i.showUploadModal),e.R7$(),e.Y8G("ngIf",i.showUploadModal))},dependencies:[d.MD,d.Sq,d.bT,d.vh,a.YN,a.xH,a.y7,a.me,a.wz,a.BC,a.vS],styles:[".resource-card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.resource-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0000001a}.upload-zone[_ngcontent-%COMP%]{border:2px dashed #dee2e6;transition:border-color .3s ease;cursor:pointer}.upload-zone[_ngcontent-%COMP%]:hover{border-color:#0dcaf0;background-color:#f8f9fa}.file-item[_ngcontent-%COMP%]{background-color:#f8f9fa;transition:background-color .2s ease}.file-item[_ngcontent-%COMP%]:hover{background-color:#e9ecef}.upload-placeholder[_ngcontent-%COMP%]{cursor:pointer}.badge.bg-danger[_ngcontent-%COMP%]{background-color:#dc3545!important}.badge.bg-info[_ngcontent-%COMP%]{background-color:#0dcaf0!important}.badge.bg-success[_ngcontent-%COMP%]{background-color:#198754!important}.badge.bg-primary[_ngcontent-%COMP%]{background-color:#0d6efd!important}.badge.bg-warning[_ngcontent-%COMP%]{background-color:#ffc107!important;color:#000!important}.progress-bar-animated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_progress-bar-stripes 1s linear infinite}@keyframes _ngcontent-%COMP%_progress-bar-stripes{0%{background-position:1rem 0}to{background-position:0 0}}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.filter-options[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border:1px solid #dee2e6;border-radius:.375rem;padding:.5rem}.selected-tags[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem}@media (max-width: 768px){.resource-stats[_ngcontent-%COMP%]{font-size:.8rem}.card-title[_ngcontent-%COMP%]{font-size:.9rem}}"]})}}return n})()}}]);