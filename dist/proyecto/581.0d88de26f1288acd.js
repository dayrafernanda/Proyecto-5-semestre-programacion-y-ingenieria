"use strict";(self.webpackChunksistema_de_gesti_n_de_proyectos=self.webpackChunksistema_de_gesti_n_de_proyectos||[]).push([[581],{581:(h,u,i)=>{i.r(u),i.d(u,{PortfolioComponent:()=>F});var c=i(177),p=i(2909),a=i(4341),t=i(4438);function g(s,d){if(1&s&&(t.j41(0,"span",50),t.EFF(1),t.k0s()),2&s){const e=t.XpG().$implicit;t.R7$(),t.SpI(" ",e.grade,"/5.0 ")}}function f(s,d){1&s&&(t.j41(0,"span",30),t.EFF(1,"-"),t.k0s())}function m(s,d){1&s&&(t.j41(0,"button",51),t.nrm(1,"i",52),t.k0s())}function b(s,d){if(1&s&&(t.j41(0,"tr")(1,"td")(2,"strong"),t.EFF(3),t.k0s(),t.nrm(4,"br"),t.j41(5,"small",30),t.EFF(6),t.k0s()(),t.j41(7,"td")(8,"span"),t.EFF(9),t.k0s()(),t.j41(10,"td"),t.EFF(11),t.nI1(12,"date"),t.nrm(13,"br"),t.j41(14,"small",30),t.EFF(15),t.k0s()(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td"),t.DNE(19,g,2,1,"span",42)(20,f,2,0,"span",43),t.k0s(),t.j41(21,"td")(22,"div",44)(23,"button",45),t.nrm(24,"i",46),t.k0s(),t.j41(25,"button",47),t.nrm(26,"i",48),t.k0s(),t.DNE(27,m,2,0,"button",49),t.k0s()()()),2&s){const e=d.$implicit,o=t.XpG();t.R7$(3),t.JRh(e.title),t.R7$(3),t.SpI("ID: ",e.id,""),t.R7$(2),t.ZvI("badge ",o.getStatusBadgeClass(e.status),""),t.R7$(),t.SpI(" ",o.getStatusText(e.status)," "),t.R7$(2),t.SpI(" ",t.i5U(12,14,e.submittedDate,"dd/MM/yyyy")," "),t.R7$(4),t.JRh(o.getDaysAgo(e.submittedDate)),t.R7$(2),t.SpI(" ",e.reviewer||"Sin asignar"," "),t.R7$(2),t.Y8G("ngIf",e.grade),t.R7$(),t.Y8G("ngIf",!e.grade),t.R7$(3),t.Y8G("disabled","under_review"===e.status),t.R7$(2),t.Y8G("disabled","under_review"===e.status||"approved"===e.status),t.R7$(2),t.Y8G("ngIf",e.feedback)}}function j(s,d){if(1&s){const e=t.RV6();t.j41(0,"div",53),t.nrm(1,"i",54),t.j41(2,"p",55),t.EFF(3,"No se encontraron proyectos con el filtro seleccionado"),t.k0s(),t.j41(4,"button",56),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return r.filterStatus="all",t.Njj(r.filterProjects())}),t.EFF(5," Mostrar todos los proyectos "),t.k0s()()}}function _(s,d){if(1&s&&(t.j41(0,"div",57),t.nrm(1,"i",58),t.j41(2,"strong"),t.EFF(3,"Recordatorio:"),t.k0s(),t.EFF(4),t.k0s()),2&s){const e=t.XpG();t.R7$(4),t.SpI(" Tienes ",e.correctionsRequiredProjectsCount," proyecto(s) que requieren correcciones. Fecha l\xedmite: 30 de Enero, 2024. ")}}let F=(()=>{class s{constructor(){this.studentProjects=[{id:"1",title:"Sistema de Gesti\xf3n Acad\xe9mica con IA",status:"under_review",submittedDate:new Date("2024-01-15"),lastUpdate:new Date("2024-01-15"),reviewer:"Dra. Mar\xeda L\xf3pez"},{id:"2",title:"Plataforma E-learning Adaptativa",status:"approved",submittedDate:new Date("2023-11-20"),lastUpdate:new Date("2023-12-10"),reviewer:"Dr. Roberto Fern\xe1ndez",grade:4.8},{id:"3",title:"App M\xf3vil para Control de Asistencia",status:"corrections_required",submittedDate:new Date("2024-01-10"),lastUpdate:new Date("2024-01-18"),reviewer:"Dra. Mar\xeda L\xf3pez",feedback:"Falta especificar la metodolog\xeda de desarrollo y justificar la selecci\xf3n de tecnolog\xedas."},{id:"4",title:"An\xe1lisis de Datos Educativos",status:"draft",submittedDate:new Date("2024-01-05"),lastUpdate:new Date("2024-01-05")}],this.filteredProjects=[],this.filterStatus="all",this.sortOrder="recent"}ngOnInit(){this.sortProjects(),this.filterProjects()}sortProjects(){this.studentProjects.sort((e,o)=>{const r=new Date(e.submittedDate).getTime(),n=new Date(o.submittedDate).getTime();return"recent"===this.sortOrder?n-r:r-n}),this.filterProjects()}toggleSortOrder(){this.sortOrder="recent"===this.sortOrder?"oldest":"recent",this.sortProjects()}filterProjects(){this.filteredProjects="all"===this.filterStatus?[...this.studentProjects]:this.studentProjects.filter(e=>e.status===this.filterStatus)}get totalProjectsCount(){return this.studentProjects.length}get approvedProjectsCount(){return this.studentProjects.filter(e=>"approved"===e.status).length}get underReviewProjectsCount(){return this.studentProjects.filter(e=>"under_review"===e.status).length}get correctionsRequiredProjectsCount(){return this.studentProjects.filter(e=>"corrections_required"===e.status).length}get draftProjectsCount(){return this.studentProjects.filter(e=>"draft"===e.status).length}getStatusBadgeClass(e){return{draft:"bg-secondary",under_review:"bg-warning",corrections_required:"bg-danger",approved:"bg-success",rejected:"bg-dark"}[e]||"bg-secondary"}getStatusText(e){return{draft:"Borrador",under_review:"En Revisi\xf3n",corrections_required:"Correcciones Requeridas",approved:"Aprobado",rejected:"Rechazado"}[e]||e}getDaysAgo(e){const r=Math.abs((new Date).getTime()-new Date(e).getTime()),n=Math.ceil(r/864e5);return 0===n?"Hoy":1===n?"Ayer":`Hace ${n} d\xedas`}loadProjectsFromStorage(){try{const e=localStorage.getItem("studentProjects");if(e){const o=JSON.parse(e);this.studentProjects=[...this.studentProjects,...o],this.sortProjects()}}catch(e){console.error("Error loading projects from storage:",e)}}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-portfolio"]],standalone:!0,features:[t.aNF],decls:89,vars:19,consts:[[1,"container","mt-4"],[1,"row"],[1,"col-12"],[1,"card","shadow-sm","border-0"],[1,"card-header","bg-success","text-white"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-folder","me-2"],[1,"btn-group"],[1,"btn","btn-light","btn-sm",3,"click"],[1,"bi"],[1,"card-body"],[1,"row","mb-4"],[1,"col-md-3"],[1,"card","bg-primary","text-white","text-center"],[1,"card-body","py-3"],[1,"card","bg-success","text-white","text-center"],[1,"card","bg-warning","text-white","text-center"],[1,"card","bg-danger","text-white","text-center"],[1,"row","mb-3"],[1,"col-md-6"],[1,"form-label"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","all"],["value","draft"],["value","under_review"],["value","corrections_required"],["value","approved"],["value","rejected"],[1,"col-md-6","d-flex","align-items-end"],[1,"text-muted"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-light"],[1,"sortable-header",3,"click"],[1,"bi","ms-1"],[4,"ngFor","ngForOf"],["class","text-center py-4",4,"ngIf"],["class","alert alert-warning mt-4",4,"ngIf"],[1,"text-center","mt-3"],["routerLink","/nuevo-proyecto",1,"btn","btn-success"],[1,"bi","bi-plus-circle","me-1"],["class","badge bg-success fs-6",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-outline-primary",3,"disabled"],[1,"bi","bi-eye"],[1,"btn","btn-outline-warning",3,"disabled"],[1,"bi","bi-pencil"],["class","btn btn-outline-info",4,"ngIf"],[1,"badge","bg-success","fs-6"],[1,"btn","btn-outline-info"],[1,"bi","bi-chat-text"],[1,"text-center","py-4"],[1,"bi","bi-search","display-4","text-muted"],[1,"mt-2","text-muted"],[1,"btn","btn-outline-secondary",3,"click"],[1,"alert","alert-warning","mt-4"],[1,"bi","bi-exclamation-triangle","me-2"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),t.nrm(7,"i",7),t.EFF(8," Mi Portafolio de Proyectos "),t.k0s(),t.j41(9,"div",8)(10,"button",9),t.bIt("click",function(){return r.toggleSortOrder()}),t.nrm(11,"i",10),t.EFF(12),t.k0s()()()(),t.j41(13,"div",11)(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15)(18,"h4",6),t.EFF(19),t.k0s(),t.j41(20,"small"),t.EFF(21,"Total Proyectos"),t.k0s()()()(),t.j41(22,"div",13)(23,"div",16)(24,"div",15)(25,"h4",6),t.EFF(26),t.k0s(),t.j41(27,"small"),t.EFF(28,"Aprobados"),t.k0s()()()(),t.j41(29,"div",13)(30,"div",17)(31,"div",15)(32,"h4",6),t.EFF(33),t.k0s(),t.j41(34,"small"),t.EFF(35,"En Revisi\xf3n"),t.k0s()()()(),t.j41(36,"div",13)(37,"div",18)(38,"div",15)(39,"h4",6),t.EFF(40),t.k0s(),t.j41(41,"small"),t.EFF(42,"Por Corregir"),t.k0s()()()()(),t.j41(43,"div",19)(44,"div",20)(45,"label",21),t.EFF(46,"Filtrar por estado:"),t.k0s(),t.j41(47,"select",22),t.mxI("ngModelChange",function(l){return t.DH7(r.filterStatus,l)||(r.filterStatus=l),l}),t.bIt("change",function(){return r.filterProjects()}),t.j41(48,"option",23),t.EFF(49,"Todos los proyectos"),t.k0s(),t.j41(50,"option",24),t.EFF(51,"Borradores"),t.k0s(),t.j41(52,"option",25),t.EFF(53,"En Revisi\xf3n"),t.k0s(),t.j41(54,"option",26),t.EFF(55,"Correcciones Requeridas"),t.k0s(),t.j41(56,"option",27),t.EFF(57,"Aprobados"),t.k0s(),t.j41(58,"option",28),t.EFF(59,"Rechazados"),t.k0s()()(),t.j41(60,"div",29)(61,"small",30),t.EFF(62),t.k0s()()(),t.j41(63,"div",31)(64,"table",32)(65,"thead",33)(66,"tr")(67,"th"),t.EFF(68,"Proyecto"),t.k0s(),t.j41(69,"th"),t.EFF(70,"Estado"),t.k0s(),t.j41(71,"th")(72,"span",34),t.bIt("click",function(){return r.toggleSortOrder()}),t.EFF(73," Fecha Env\xedo "),t.nrm(74,"i",35),t.k0s()(),t.j41(75,"th"),t.EFF(76,"Revisor"),t.k0s(),t.j41(77,"th"),t.EFF(78,"Calificaci\xf3n"),t.k0s(),t.j41(79,"th"),t.EFF(80,"Acciones"),t.k0s()()(),t.j41(81,"tbody"),t.DNE(82,b,28,17,"tr",36),t.k0s()()(),t.DNE(83,j,6,0,"div",37)(84,_,5,1,"div",38),t.j41(85,"div",39)(86,"a",40),t.nrm(87,"i",41),t.EFF(88,"Nuevo Proyecto "),t.k0s()()()()()()()),2&o&&(t.R7$(11),t.AVh("bi-sort-down","recent"===r.sortOrder)("bi-sort-up","oldest"===r.sortOrder),t.R7$(),t.SpI(" ","recent"===r.sortOrder?"M\xe1s Recientes":"M\xe1s Antiguos"," "),t.R7$(7),t.JRh(r.totalProjectsCount),t.R7$(7),t.JRh(r.approvedProjectsCount),t.R7$(7),t.JRh(r.underReviewProjectsCount),t.R7$(7),t.JRh(r.correctionsRequiredProjectsCount),t.R7$(7),t.R50("ngModel",r.filterStatus),t.R7$(15),t.Lme(" Mostrando ",r.filteredProjects.length," de ",r.totalProjectsCount," proyectos "),t.R7$(12),t.AVh("bi-sort-down","recent"===r.sortOrder)("bi-sort-up","oldest"===r.sortOrder),t.R7$(8),t.Y8G("ngForOf",r.filteredProjects),t.R7$(),t.Y8G("ngIf",0===r.filteredProjects.length),t.R7$(),t.Y8G("ngIf",r.correctionsRequiredProjectsCount>0))},dependencies:[c.MD,c.Sq,c.bT,c.vh,p.iI,p.Wk,a.YN,a.xH,a.y7,a.wz,a.BC,a.vS]})}}return s})()}}]);