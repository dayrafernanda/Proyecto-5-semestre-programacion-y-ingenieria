"use strict";(self.webpackChunksistema_de_gesti_n_de_proyectos=self.webpackChunksistema_de_gesti_n_de_proyectos||[]).push([[842],{2461:(y,l,d)=>{d.r(l),d.d(l,{AcademicConfigComponent:()=>F});var s=d(177),r=d(4341),m=d(2909),e=d(4438);function _(n,c){if(1&n){const i=e.RV6();e.j41(0,"tr")(1,"td",27),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"td")(10,"span",28),e.EFF(11),e.k0s()(),e.j41(12,"td")(13,"div",29)(14,"button",30),e.bIt("click",function(){const t=e.eBV(i).$implicit,a=e.XpG(2);return e.Njj(a.openEditPeriodModal(t))}),e.nrm(15,"i",31),e.k0s(),e.j41(16,"button",32),e.bIt("click",function(){const t=e.eBV(i).$implicit,a=e.XpG(2);return e.Njj(a.deletePeriod(t.id))}),e.nrm(17,"i",33),e.k0s()()()()}if(2&n){const i=c.$implicit,o=e.XpG(2);e.R7$(2),e.JRh(i.name),e.R7$(2),e.JRh(e.i5U(5,5,i.startDate,"dd/MM/yyyy")),e.R7$(3),e.JRh(e.i5U(8,8,i.endDate,"dd/MM/yyyy")),e.R7$(3),e.Y8G("ngClass",o.getStatusBadgeClass(i.status)),e.R7$(),e.SpI(" ",o.getStatusText(i.status)," ")}}function u(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"h5",20),e.EFF(3,"Gesti\xf3n de Periodos Acad\xe9micos"),e.k0s(),e.j41(4,"button",21),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.openNewPeriodModal())}),e.nrm(5,"i",22),e.EFF(6,"Nuevo Periodo "),e.k0s()(),e.j41(7,"div",23)(8,"table",24)(9,"thead",25)(10,"tr")(11,"th"),e.EFF(12,"Nombre"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Fecha Inicio"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Fecha Fin"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Estado"),e.k0s(),e.j41(19,"th"),e.EFF(20,"Acciones"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,_,18,11,"tr",26),e.k0s()()()()}if(2&n){const i=e.XpG();e.R7$(22),e.Y8G("ngForOf",i.academicPeriods)}}function p(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",45)(1,"input",46),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG().$implicit;return e.DH7(a.value,t)||(a.value=t),e.Njj(t)}),e.k0s()()}if(2&n){const i=e.XpG().$implicit;e.R7$(),e.R50("ngModel",i.value)}}function g(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",45)(1,"input",47),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG().$implicit;return e.DH7(a.value,t)||(a.value=t),e.Njj(t)}),e.k0s()()}if(2&n){const i=e.XpG().$implicit;e.R7$(),e.R50("ngModel",i.value)}}function v(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",45)(1,"div",48)(2,"input",49),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG().$implicit;return e.DH7(a.value,t)||(a.value=t),e.Njj(t)}),e.k0s(),e.j41(3,"label",50),e.EFF(4),e.k0s()()()}if(2&n){const i=e.XpG().$implicit;e.R7$(2),e.R50("ngModel",i.value),e.R7$(2),e.SpI(" ",i.value?"Activado":"Desactivado"," ")}}function f(n,c){if(1&n&&(e.j41(0,"option",53),e.EFF(1),e.k0s()),2&n){const i=c.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function b(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",45)(1,"select",51),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG().$implicit;return e.DH7(a.value,t)||(a.value=t),e.Njj(t)}),e.DNE(2,f,2,2,"option",52),e.k0s()()}if(2&n){const i=e.XpG().$implicit;e.R7$(),e.R50("ngModel",i.value),e.R7$(),e.Y8G("ngForOf",i.options)}}function h(n,c){if(1&n&&(e.j41(0,"div",40)(1,"div",41)(2,"div",18)(3,"h6",42),e.EFF(4),e.k0s(),e.j41(5,"div",4)(6,"small",43),e.EFF(7),e.k0s()(),e.DNE(8,p,2,1,"div",44)(9,g,2,1,"div",44)(10,v,5,2,"div",44)(11,b,3,2,"div",44),e.k0s()()()),2&n){const i=c.$implicit;e.R7$(4),e.JRh(i.description),e.R7$(3),e.SpI("Categor\xeda: ",i.category,""),e.R7$(),e.Y8G("ngIf","number"===i.type),e.R7$(),e.Y8G("ngIf","string"===i.type),e.R7$(),e.Y8G("ngIf","boolean"===i.type),e.R7$(),e.Y8G("ngIf","select"===i.type)}}function C(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",18)(1,"div",19)(2,"h5",20),e.EFF(3,"Configuraci\xf3n de Par\xe1metros del Sistema"),e.k0s(),e.j41(4,"div")(5,"button",34),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.resetParameters())}),e.nrm(6,"i",35),e.EFF(7,"Restaurar "),e.k0s(),e.j41(8,"button",36),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.saveParameters())}),e.nrm(9,"i",37),e.EFF(10,"Guardar Cambios "),e.k0s()()(),e.j41(11,"div",38),e.DNE(12,h,12,6,"div",39),e.k0s()()}if(2&n){const i=e.XpG();e.R7$(12),e.Y8G("ngForOf",i.systemParameters)}}function P(n,c){1&n&&e.nrm(0,"div",54)}function k(n,c){if(1&n){const i=e.RV6();e.j41(0,"div",55)(1,"div",56)(2,"div",57)(3,"div",58)(4,"h5",59),e.nrm(5,"i",60),e.EFF(6),e.k0s(),e.j41(7,"button",61),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.closePeriodModal())}),e.k0s()(),e.j41(8,"div",62)(9,"div",45)(10,"label",63),e.EFF(11,"Nombre del Periodo *"),e.k0s(),e.j41(12,"input",64),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG();return e.DH7(a.newPeriod.name,t)||(a.newPeriod.name=t),e.Njj(t)}),e.k0s()(),e.j41(13,"div",38)(14,"div",65)(15,"label",63),e.EFF(16,"Fecha Inicio *"),e.k0s(),e.j41(17,"input",66),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG();return e.DH7(a.newPeriod.startDate,t)||(a.newPeriod.startDate=t),e.Njj(t)}),e.k0s()(),e.j41(18,"div",65)(19,"label",63),e.EFF(20,"Fecha Fin *"),e.k0s(),e.j41(21,"input",66),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG();return e.DH7(a.newPeriod.endDate,t)||(a.newPeriod.endDate=t),e.Njj(t)}),e.k0s()()(),e.j41(22,"div",45)(23,"label",63),e.EFF(24,"Estado"),e.k0s(),e.j41(25,"select",51),e.mxI("ngModelChange",function(t){e.eBV(i);const a=e.XpG();return e.DH7(a.newPeriod.status,t)||(a.newPeriod.status=t),e.Njj(t)}),e.j41(26,"option",67),e.EFF(27,"Pr\xf3ximo"),e.k0s(),e.j41(28,"option",68),e.EFF(29,"Activo"),e.k0s(),e.j41(30,"option",69),e.EFF(31,"Inactivo"),e.k0s()()()(),e.j41(32,"div",70)(33,"button",71),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.closePeriodModal())}),e.EFF(34," Cancelar "),e.k0s(),e.j41(35,"button",72),e.bIt("click",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.savePeriod())}),e.EFF(36),e.k0s()()()()()}if(2&n){const i=e.XpG();e.R7$(6),e.SpI(" ",i.isEditingPeriod?"Editar Periodo":"Nuevo Periodo Acad\xe9mico"," "),e.R7$(6),e.R50("ngModel",i.newPeriod.name),e.R7$(5),e.R50("ngModel",i.newPeriod.startDate),e.R7$(4),e.R50("ngModel",i.newPeriod.endDate),e.R7$(4),e.R50("ngModel",i.newPeriod.status),e.R7$(10),e.Y8G("disabled",!i.isPeriodFormValid()),e.R7$(),e.SpI(" ",i.isEditingPeriod?"Actualizar":"Crear"," Periodo ")}}let F=(()=>{class n{constructor(){this.activeTab="periods",this.academicPeriods=[{id:1,name:"Primer Semestre 2024",startDate:"2024-01-15",endDate:"2024-06-20",status:"upcoming"},{id:2,name:"Segundo Semestre 2023",startDate:"2023-07-10",endDate:"2023-12-15",status:"active"},{id:3,name:"Primer Semestre 2023",startDate:"2023-01-16",endDate:"2023-06-20",status:"inactive"}],this.newPeriod={name:"",startDate:"",endDate:"",status:"upcoming"},this.showPeriodModal=!1,this.isEditingPeriod=!1,this.systemParameters=[{key:"max_file_size",value:50,type:"number",category:"Archivos",description:"Tama\xf1o m\xe1ximo de archivo en MB"},{key:"session_timeout",value:30,type:"number",category:"Seguridad",description:"Tiempo de expiraci\xf3n de sesi\xf3n en minutos"},{key:"allow_registration",value:!0,type:"boolean",category:"Usuarios",description:"Permitir registro de nuevos usuarios"},{key:"default_user_role",value:"Estudiante",type:"select",category:"Usuarios",description:"Rol por defecto para nuevos usuarios",options:["Estudiante","Docente","Invitado"]},{key:"backup_frequency",value:"daily",type:"select",category:"Sistema",description:"Frecuencia de backups autom\xe1ticos",options:["daily","weekly","monthly"]}],this.categories=["Archivos","Seguridad","Usuarios","Sistema","Acad\xe9mico"]}ngOnInit(){}openNewPeriodModal(){this.isEditingPeriod=!1,this.newPeriod={name:"",startDate:"",endDate:"",status:"upcoming"},this.showPeriodModal=!0}openEditPeriodModal(i){this.isEditingPeriod=!0,this.newPeriod={...i},this.showPeriodModal=!0}savePeriod(){if(this.isEditingPeriod&&this.newPeriod.id){const i=this.academicPeriods.findIndex(o=>o.id===this.newPeriod.id);-1!==i&&(this.academicPeriods[i]={...this.academicPeriods[i],...this.newPeriod})}else{const i={id:Math.max(...this.academicPeriods.map(o=>o.id))+1,name:this.newPeriod.name,startDate:this.newPeriod.startDate,endDate:this.newPeriod.endDate,status:this.newPeriod.status};this.academicPeriods.unshift(i)}this.showPeriodModal=!1}deletePeriod(i){confirm("\xbfEst\xe1s seguro de que quieres eliminar este periodo acad\xe9mico?")&&(this.academicPeriods=this.academicPeriods.filter(o=>o.id!==i))}closePeriodModal(){this.showPeriodModal=!1}saveParameters(){alert("Configuraciones guardadas exitosamente")}resetParameters(){confirm("\xbfRestaurar valores por defecto? Se perder\xe1n los cambios no guardados.")&&(this.systemParameters=[{key:"max_file_size",value:50,type:"number",category:"Archivos",description:"Tama\xf1o m\xe1ximo de archivo en MB"},{key:"session_timeout",value:30,type:"number",category:"Seguridad",description:"Tiempo de expiraci\xf3n de sesi\xf3n en minutos"},{key:"allow_registration",value:!0,type:"boolean",category:"Usuarios",description:"Permitir registro de nuevos usuarios"},{key:"default_user_role",value:"Estudiante",type:"select",category:"Usuarios",description:"Rol por defecto para nuevos usuarios",options:["Estudiante","Docente","Invitado"]},{key:"backup_frequency",value:"daily",type:"select",category:"Sistema",description:"Frecuencia de backups autom\xe1ticos",options:["daily","weekly","monthly"]}])}getStatusBadgeClass(i){switch(i){case"active":return"bg-success";case"inactive":default:return"bg-secondary";case"upcoming":return"bg-warning"}}getStatusText(i){switch(i){case"active":return"Activo";case"inactive":return"Inactivo";case"upcoming":return"Pr\xf3ximo";default:return i}}isPeriodFormValid(){return!!(this.newPeriod.name&&this.newPeriod.startDate&&this.newPeriod.endDate)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-academic-config"]],standalone:!0,features:[e.aNF],decls:27,vars:8,consts:[[1,"container-fluid","academic-config"],[1,"row","bg-info","text-white","py-4"],[1,"col-12"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-2"],[1,"bi","bi-gear","me-3"],[1,"mb-0","lead"],[1,"row","mt-4"],[1,"card","shadow-sm"],[1,"card-header","bg-light"],[1,"nav","nav-tabs","card-header-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"bi","bi-calendar-event","me-2"],[1,"bi","bi-sliders","me-2"],["class","card-body",4,"ngIf"],["class","modal-backdrop show",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-light"],[4,"ngFor","ngForOf"],[1,"fw-bold"],[1,"badge",3,"ngClass"],[1,"btn-group","btn-group-sm"],[1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"bi","bi-arrow-clockwise","me-2"],[1,"btn","btn-success",3,"click"],[1,"bi","bi-check-lg","me-2"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"card","mb-3"],[1,"card-title"],[1,"text-muted"],["class","mb-3",4,"ngIf"],[1,"mb-3"],["type","number",1,"form-control",3,"ngModelChange","ngModel"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"form-check-label"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"modal-backdrop","show"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-primary","text-white"],[1,"modal-title"],[1,"bi","bi-calendar-plus","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],[1,"form-label"],["type","text","placeholder","Ej: Primer Semestre 2024",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6","mb-3"],["type","date",1,"form-control",3,"ngModelChange","ngModel"],["value","upcoming"],["value","active"],["value","inactive"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"]],template:function(o,t){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),e.nrm(6,"i",5),e.EFF(7," Configuraci\xf3n Acad\xe9mica "),e.k0s(),e.j41(8,"p",6),e.EFF(9,"Sistema de configuraci\xf3n de par\xe1metros acad\xe9micos"),e.k0s()()()()(),e.j41(10,"div",7)(11,"div",2)(12,"div",8)(13,"div",9)(14,"ul",10)(15,"li",11)(16,"a",12),e.bIt("click",function(){return t.activeTab="periods"}),e.nrm(17,"i",13),e.EFF(18,"Periodos Acad\xe9micos "),e.k0s()(),e.j41(19,"li",11)(20,"a",12),e.bIt("click",function(){return t.activeTab="parameters"}),e.nrm(21,"i",14),e.EFF(22,"Par\xe1metros del Sistema "),e.k0s()()()(),e.DNE(23,u,23,1,"div",15)(24,C,13,1,"div",15),e.k0s()()()(),e.DNE(25,P,1,0,"div",16)(26,k,37,7,"div",17)),2&o&&(e.R7$(16),e.AVh("active","periods"===t.activeTab),e.R7$(4),e.AVh("active","parameters"===t.activeTab),e.R7$(3),e.Y8G("ngIf","periods"===t.activeTab),e.R7$(),e.Y8G("ngIf","parameters"===t.activeTab),e.R7$(),e.Y8G("ngIf",t.showPeriodModal),e.R7$(),e.Y8G("ngIf",t.showPeriodModal))},dependencies:[s.MD,s.YU,s.Sq,s.bT,s.vh,r.YN,r.xH,r.y7,r.me,r.Q0,r.Zm,r.wz,r.BC,r.vS,m.iI],styles:[".academic-config[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#6c757d;font-weight:500}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#495057;background-color:#fff;border-bottom:3px solid #0dcaf0}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#495057}.card[_ngcontent-%COMP%]{border:none;box-shadow:0 .15rem 1.75rem #3a3b4526}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#007bff0d}.badge[_ngcontent-%COMP%]{font-size:.75em;padding:.35em .65em}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:3em;height:1.5em}.btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.75rem}.modal-backdrop[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}}"]})}}return n})()}}]);